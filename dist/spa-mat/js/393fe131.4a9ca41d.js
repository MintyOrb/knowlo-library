(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["393fe131"],{"067f":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-field ",attrs:{id:"cont"+e.inputId}},[s("q-input",{staticClass:"search",attrs:{type:"text","float-label":"Search"},on:{click:function(e){e.stopPropagation(),e.preventDefault()},focus:function(t){e.hidden=!1},blur:e.delayBlur},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),s("ul",{staticClass:"dropdown-content",class:{hide:e.hidden},staticStyle:{position:"absolute"},attrs:{id:"ac"}},e._l(e.suggestions,function(t){return s("li",{on:{click:function(s){s.stopPropagation(),s.preventDefault(),e.pick(t)}}},[t.tag.iconURL?s("img",{staticClass:"left",attrs:{src:t.tag.iconURL}}):e._e(),s("span",[t.new?s("i",{staticClass:"material-icons  left"},[e._v("add")]):e._e(),e._v(e._s(t.translation.name)),"addTag"!=e.$route.name&&t.new?s("span",{on:{click:function(t){e.addWithDetail=!0}}},[s("i",{staticClass:"material-icons right addDetail"},[e._v("playlist_add")])]):e._e()])])}))],1)},n=[];i._withStripped=!0;s("ac6a"),s("cadf"),s("8615"),s("20d6"),s("7514"),s("7f7f");var a=s("1157"),o=s.n(a),r=s("4d5c"),u=s.n(r),c=s("5d8b"),l={props:["ajaxUrl","inputId","exclude","holderText"],components:{QInput:c["a"]},name:"search",data:function(){return{addWithDetail:!1,suggestions:[],input:"",hidden:!1,tag:{url:"",english:""},translation:{name:"",definition:"",languageCode:"en"}}},methods:{pick:function(e){this.input="",this.suggestions=[],e.translation.name.indexOf("Create new tag:")>-1?(this.tag.english=this.translation.name=e.translation.name.substr(16).trim(),this.addWithDetail?this.$router.push("/addTag/"+this.translation.name):this.quickAdd()):(e.status={includeIcon:!0},this.$emit("select",e))},delayBlur:function(){var e=this;window.setTimeout(function(){e.hidden=!0},300)},quickAdd:function(){var e=this;this.$http.post("/api/auth/set",{tag:this.tag,translation:this.translation}).then(function(t){t.data.tag?(e.$emit("select",t.data),u.a.toast('"'+t.data.translation.name+'" created!',3e3)):u.a.toast("Something went wrong...tag not added.",4e3)},function(e){401===e.status?(u.a.toast("You must be logged in to add a tag!",4e3),o()("#login-modal").modal("open")):u.a.toast("Something went wrong...are you online?",4e3)})},hide:function(){var e=this;window.setTimeout(function(){e.hidden=!0},250)}},updated:function(){"explore"===this.$route.name&&o()("#ac").appendTo("#search")},mounted:function(){var e=this;o()("#cont"+this.inputId+" input").attr("id",this.inputId);var t={inputId:this.inputId||"search-input",ajaxUrl:this.ajaxUrl||"/api/tag/search/",data:{exclude:this.exclude},minLength:1},s=o()("#"+t.inputId);if(t.ajaxUrl){var i,n,a=o()("#ac");s.on("keyup",function(o){if(i&&clearTimeout(i),0===e.input.length?e.hidden=!0:e.hidden=!1,13===o.which&&e.input.length>0&&n[0])n[0].click();else if(40!==o.which)if(38!==o.which){if(9!==o.which&&16!==o.which&&17!==o.which&&18!==o.which&&20!==o.which&&35!==o.which&&36!==o.which&&37!==o.which&&39!==o.which&&27!==o.which){console.log(t);var r=s.val().toLowerCase();r.length>t.minLength&&(i=setTimeout(function(){console.log(t.ajaxUrl+r+"/"+e.exclude),e.$http.get(t.ajaxUrl+r+"/"+e.exclude).then(function(t){e.suggestions=t.data,console.log(t),Object.values(e.suggestions).findIndex(function(t){return e.input.toLowerCase().trim()===t.translation.name.toLowerCase().trim()})&&e.suggestions.push({tag:{},translation:{name:"Create new tag: "+e.input},new:!0})},function(e){console.log(e)})},250))}}else n?(n.removeClass("selected"),u=n.prev(),n=u.length>0?u.addClass("selected"):a.find("li").last().addClass("selected")):n=a.find("li").last().addClass("selected");else if(n){n.removeClass("selected");var u=n.next();n=u.length>0?u.addClass("selected"):a.find("li").eq(0).addClass("selected")}else n=a.find("li").eq(0).addClass("selected")})}}},d=l,p=(s("7572"),s("2877")),h=Object(p["a"])(d,i,n,!1,null,null,null);h.options.__file="search.vue";t["a"]=h.exports},"1fe0":function(e,t,s){"use strict";t["a"]=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2?arguments[2]:void 0;function n(){for(var n=this,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];var u=function(){t=null,i||e.apply(n,o)};clearTimeout(t),i&&!t&&e.apply(this,o),t=setTimeout(u,s)}return n.cancel=function(){clearTimeout(t)},n}},"20d6":function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},"39ea":function(e,t,s){"use strict";var i=s("1fe0"),n=s("1528"),a=s("b18c");function o(e,t){var s=t.value,i=(t.modifiers,e.__qbacktotop);if(s){if("number"===typeof s)return i.offset=s,void i.update();if(s&&Object(s)!==s)console.error("v-back-to-top requires an object {offset, duration} as parameter",e);else{if(s.offset){if("number"!==typeof s.offset)return void console.error("v-back-to-top requires a number as offset",e);i.offset=s.offset}if(s.duration){if("number"!==typeof s.duration)return void console.error("v-back-to-top requires a number as duration",e);i.duration=s.duration}i.update()}}else i.update()}t["a"]={name:"back-to-top",bind:function(e){var t={offset:200,duration:300,updateNow:function(){var s=Object(n["b"])(t.scrollTarget)<=t.offset;s!==e.classList.contains("hidden")&&e.classList[s?"add":"remove"]("hidden")},goToTop:function(){Object(n["f"])(t.scrollTarget,0,t.animate?t.duration:0)},goToTopKey:function(e){13===e.keyCode&&Object(n["f"])(t.scrollTarget,0,t.animate?t.duration:0)}};t.update=Object(i["a"])(t.updateNow,25),e.classList.add("hidden"),e.__qbacktotop=t},inserted:function(e,t){var s=e.__qbacktotop;s.scrollTarget=Object(n["c"])(e),s.animate=t.modifiers.animate,o(e,t),s.scrollTarget.addEventListener("scroll",s.update,a["d"].passive),window.addEventListener("resize",s.update,a["d"].passive),e.addEventListener("click",s.goToTop),e.addEventListener("keyup",s.goToTopKey)},update:function(e,t){JSON.stringify(t.oldValue)!==JSON.stringify(t.value)?o(e,t):setTimeout(function(){e.__qbacktotop&&e.__qbacktotop.updateNow()},0)},unbind:function(e){var t=e.__qbacktotop;t&&(t.scrollTarget.removeEventListener("scroll",t.update,a["d"].passive),window.removeEventListener("resize",t.update,a["d"].passive),e.removeEventListener("click",t.goToTop),e.removeEventListener("keyup",t.goToTopKey),delete e.__qbacktotop)}}},"487a":function(e,t,s){(function(t,s){e.exports=s()})(0,function(){"use strict";var e="@@InfiniteScroll",t=function(e,t){var s,i,n,a,o,r=function(){e.apply(a,o),i=s};return function(){if(a=this,o=arguments,s=Date.now(),n&&(clearTimeout(n),n=null),i){var e=t-(s-i);e<0?r():n=setTimeout(function(){r()},e)}else r()}},s=function(e){return e===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):e.scrollTop},i=document.defaultView.getComputedStyle,n=function(e){var t=e;while(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&1===t.nodeType){var s=i(t).overflowY;if("scroll"===s||"auto"===s)return t;t=t.parentNode}return window},a=function(e){return e===window?document.documentElement.clientHeight:e.clientHeight},o=function(e){return e===window?s(window):e.getBoundingClientRect().top+s(window)},r=function(e){var t=e.parentNode;while(t){if("HTML"===t.tagName)return!0;if(11===t.nodeType)return!1;t=t.parentNode}return!1},u=function(){if(!this.binded){this.binded=!0;var e=this,s=e.el,i=s.getAttribute("infinite-scroll-throttle-delay"),a=200;i&&(a=Number(e.vm[i]||i),(isNaN(a)||a<0)&&(a=200)),e.throttleDelay=a,e.scrollEventTarget=n(s),e.scrollListener=t(c.bind(e),e.throttleDelay),e.scrollEventTarget.addEventListener("scroll",e.scrollListener),this.vm.$on("hook:beforeDestroy",function(){e.scrollEventTarget.removeEventListener("scroll",e.scrollListener)});var o=s.getAttribute("infinite-scroll-disabled"),r=!1;o&&(this.vm.$watch(o,function(t){e.disabled=t,!t&&e.immediateCheck&&c.call(e)}),r=Boolean(e.vm[o])),e.disabled=r;var u=s.getAttribute("infinite-scroll-distance"),l=0;u&&(l=Number(e.vm[u]||u),isNaN(l)&&(l=0)),e.distance=l;var d=s.getAttribute("infinite-scroll-immediate-check"),p=!0;d&&(p=Boolean(e.vm[d])),e.immediateCheck=p,p&&c.call(e);var h=s.getAttribute("infinite-scroll-listen-for-event");h&&e.vm.$on(h,function(){c.call(e)})}},c=function(e){var t=this.scrollEventTarget,i=this.el,n=this.distance;if(!0===e||!this.disabled){var r=s(t),u=r+a(t),c=!1;if(t===i)c=t.scrollHeight-u<=n;else{var l=o(i)-o(t)+i.offsetHeight+r;c=u+n>=l}c&&this.expression&&this.expression()}},l={bind:function(t,s,i){t[e]={el:t,vm:i.context,expression:s.value};var n=arguments;t[e].vm.$on("hook:mounted",function(){t[e].vm.$nextTick(function(){r(t)&&u.call(t[e],n),t[e].bindTryCount=0;var s=function s(){t[e].bindTryCount>10||(t[e].bindTryCount++,r(t)?u.call(t[e],n):setTimeout(s,50))};s()})})},unbind:function(t){t&&t[e]&&t[e].scrollEventTarget&&t[e].scrollEventTarget.removeEventListener("scroll",t[e].scrollListener)}},d=function(e){e.directive("InfiniteScroll",l)};return window.Vue&&(window.infiniteScroll=l,Vue.use(d)),l.install=d,l})},"504c":function(e,t,s){var i=s("0d58"),n=s("6821"),a=s("52a7").f;e.exports=function(e){return function(t){var s,o=n(t),r=i(o),u=r.length,c=0,l=[];while(u>c)a.call(o,s=r[c++])&&l.push(e?[s,o[s]]:o[s]);return l}}},"5b7e":function(e,t,s){
/*!
 * vue-simple-spinner v1.2.8 (https://github.com/dzwillia/vue-simple-spinner)
 * (c) 2017 David Z. Williams
 * Released under the MIT License.
 */
(function(t,s){e.exports=s()})(0,function(){return function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VueSimpleSpinner=void 0;var i=s(1),n=a(i);function a(e){return e&&e.__esModule?e:{default:e}}"undefined"!==typeof window&&window.Vue&&Vue.component("vue-simple-spinner",n.default),t.VueSimpleSpinner=n.default,t.default=n.default},function(e,t,s){s(2);var i=s(7)(s(8),s(9),null,null);e.exports=i.exports},function(e,t,s){var i=s(3);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(5)("d89557e4",i,!0)},function(e,t,s){t=e.exports=s(4)(),t.push([e.i,".vue-simple-spinner{transition:all .3s linear}@keyframes vue-simple-spinner-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var s=this[t];s[2]?e.push("@media "+s[2]+"{"+s[1]+"}"):e.push(s[1])}return e.join("")},e.i=function(t,s){"string"===typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var a=this[n][0];"number"===typeof a&&(i[a]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"===typeof o[0]&&i[o[0]]||(s&&!o[2]?o[2]=s:s&&(o[2]="("+o[2]+") and ("+s+")"),e.push(o))}},e}},function(e,t,s){var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n=s(6),a={},o=i&&(document.head||document.getElementsByTagName("head")[0]),r=null,u=0,c=!1,l=function(){},d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var s=e[t],i=a[s.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](s.parts[n]);for(;n<s.parts.length;n++)i.parts.push(g(s.parts[n]));i.parts.length>s.parts.length&&(i.parts.length=s.parts.length)}else{var o=[];for(n=0;n<s.parts.length;n++)o.push(g(s.parts[n]));a[s.id]={id:s.id,refs:1,parts:o}}}}function h(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function g(e){var t,s,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(i){if(c)return l;i.parentNode.removeChild(i)}if(d){var n=u++;i=r||(r=h()),t=v.bind(null,i,n,!1),s=v.bind(null,i,n,!0)}else i=h(),t=m.bind(null,i),s=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else s()}}e.exports=function(e,t,s){c=s;var i=n(e,t);return p(i),function(t){for(var s=[],o=0;o<i.length;o++){var r=i[o],u=a[r.id];u.refs--,s.push(u)}t?(i=n(e,t),p(i)):i=[];for(o=0;o<s.length;o++){u=s[o];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete a[u.id]}}}};var f=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}();function v(e,t,s,i){var n=s?"":i.css;if(e.styleSheet)e.styleSheet.cssText=f(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function m(e,t){var s=t.css,i=t.media,n=t.sourceMap;if(i&&e.setAttribute("media",i),n&&(s+="\n/*# sourceURL="+n.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=s;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}},function(e,t){e.exports=function(e,t){for(var s=[],i={},n=0;n<t.length;n++){var a=t[n],o=a[0],r=a[1],u=a[2],c=a[3],l={id:e+":"+n,css:r,media:u,sourceMap:c};i[o]?i[o].parts.push(l):s.push(i[o]={id:o,parts:[l]})}return s}},function(e,t){e.exports=function(e,t,s,i){var n,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(n=e,a=e.default);var r="function"===typeof a?a.options:a;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),s&&(r._scopeId=s),i){var u=Object.create(r.computed||null);Object.keys(i).forEach(function(e){var t=i[e];u[e]=function(){return t}}),r.computed=u}return{esModule:n,exports:a,options:r}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};t.default={name:"vue-simple-spinner",props:{size:{default:32},"line-size":{type:Number,default:3},"line-bg-color":{type:String,default:"#eee"},"line-fg-color":{type:String,default:"#2196f3"},speed:{type:Number,default:.8},spacing:{type:Number,default:4},message:{type:String,default:""},"font-size":{type:Number,default:13},"text-fg-color":{type:String,default:"#555"}},computed:{size_px:function(){switch(this.size){case"tiny":return 12;case"small":return 16;case"medium":return 32;case"large":return 48;case"big":return 64;case"huge":return 96;case"massive":return 128}return i(this.size)?this.size:32},line_size_px:function(){switch(this.size){case"tiny":return 1;case"small":return 2;case"medium":return 3;case"large":return 3;case"big":return 4;case"huge":return 4;case"massive":return 5}return i(this.lineSize)?this.lineSize:4},text_margin_top:function(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px/8),3),12)}return i(this.spacing)?this.spacing:4},text_font_size:function(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(.4*this.size_px),11),32)}return i(this.fontSize)?this.fontSize:13},spinner_style:function(){return{margin:"0 auto","border-radius":"100%",border:this.line_size_px+"px solid "+this.lineBgColor,"border-top":this.line_size_px+"px solid "+this.lineFgColor,width:this.size_px+"px",height:this.size_px+"px",animation:"vue-simple-spinner-spin "+this.speed+"s linear infinite"}},text_style:function(){return{"margin-top":this.text_margin_top+"px",color:this.textFgColor,"font-size":this.text_font_size+"px","text-align":"center"}}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"vue-simple-spinner",style:e.spinner_style}),e._v(" "),e.message.length>0?s("div",{staticClass:"vue-simple-spinner-text",style:e.text_style},[e._v(e._s(e.message))]):e._e()])},staticRenderFns:[]}}])["default"]})},"66d1":function(e,t,s){"use strict";var i=s("b3ca"),n=s.n(i);n.a},"751b":function(e,t,s){},7572:function(e,t,s){"use strict";var i=s("751b"),n=s.n(i);n.a},"7fba":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"min-height":"100vh"}},[s("router-view",{attrs:{member:e.member,"tag-Query":e.tagQuery},on:{add:e.addToQuery}}),s("ul",{staticClass:"exploreBins",attrs:{"data-collapsible":"accordion"}},[s("li",{attrs:{"data-pane":"search",id:"search"}},[s("div",{staticClass:"collapsible-header searchHead shadowUnder"},[s("search",{attrs:{exclude:"","input-id":"mainSearch","holder-text":"Search"},on:{select:e.addToQuery}}),s("transition-group",{attrs:{name:"fade"}},e._l(e.tagQuery,function(t){return s("span",{key:t.setID,on:{click:function(s){s.stopPropagation(),s.preventDefault(),e.removeTag(t.setID)}}},[t.tag.iconURL?s("img",{staticClass:"circle hoverable",staticStyle:{height:"40px",width:"40px","margin-right":"10px",padding:"3px"},attrs:{src:t.tag.iconURL}}):s("span",{staticClass:"circle hoverable",staticStyle:{"text-align":"center",padding:"10px",width:"40px",position:"absolute"}},[e._v(e._s(t.translation.name[0]))])])})),s("span",{staticClass:"right"},[e._v("\r\n  \t\t\t\t\t\t"+e._s(e.tagQuery.length)+" tag"),1!==e.tagQuery.length?s("span",[e._v("s")]):e._e(),e._v(" in search\r\n        "),e.tagQuery.length>0?s("span",{staticClass:"clear btn white waves-light",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("clear")}}},[e._v("\r\n  \t\t\t\t\t\t\tclear\r\n  \t\t\t\t\t\t")]):e._e()])],1),s("div",{staticClass:"container collapsible-body"},[s("div",{},["search"===e.selectedPane?s("isotope",{ref:"tagQuery",staticStyle:{"min-height":"150px"},attrs:{list:e.tagQuery,options:{}}},e._l(e.tagQuery,function(t){return s("tag",{key:t.setID,attrs:{tag:t,display:"thumb"},on:{include:function(s){e.removeTag(t.setID)},remove:function(s){e.removeTag(t.setID)},focus:e.focus,lens:e.fetchContains,main:function(s){e.removeTag(t.setID)}}})})):e._e(),e.tagQuery.length>0?s("div",{staticClass:"clear btn white waves-light",on:{click:function(t){e.$emit("clear")}}},[e._v("\r\n            clear\r\n          ")]):e._e()],1)])]),s("li",{attrs:{"data-pane":"tags"}},[e._m(0),s("div",{staticClass:"collapsible-body"},[s("form",{attrs:{id:"tagSuggestionOptions"}},[s("span",[s("q-radio",{staticClass:"with-gap",attrs:{label:"Size",name:"group1",type:"radio",val:"size",id:"size"},model:{value:e.suggestionDisplay,callback:function(t){e.suggestionDisplay=t},expression:"suggestionDisplay"}})],1),s("span",[s("q-radio",{staticClass:"with-gap",attrs:{label:"Time",name:"group1",type:"radio",val:"time",id:"time"},model:{value:e.suggestionDisplay,callback:function(t){e.suggestionDisplay=t},expression:"suggestionDisplay"}})],1),s("span",[s("q-radio",{staticClass:"with-gap",attrs:{label:"Disciplines",name:"group1",type:"radio",val:"disciplines",id:"disciplines"},model:{value:e.suggestionDisplay,callback:function(t){e.suggestionDisplay=t},expression:"suggestionDisplay"}})],1),s("span",[s("q-radio",{staticClass:"with-gap",attrs:{label:"Groups",name:"group1",val:"groups",id:"groups"},model:{value:e.suggestionDisplay,callback:function(t){e.suggestionDisplay=t},expression:"suggestionDisplay"}})],1),s("span",[s("q-radio",{staticClass:"with-gap",attrs:{label:"Top",name:"group1",val:"none",id:"none"},model:{value:e.suggestionDisplay,callback:function(t){e.suggestionDisplay=t},expression:"suggestionDisplay"}})],1),e.member.first?s("span",[s("q-radio",{staticClass:"with-gap",attrs:{label:e.member.first,name:"group1",val:"member",id:"member"},model:{value:e.suggestionDisplay,callback:function(t){e.suggestionDisplay=t},expression:"suggestionDisplay"}})],1):e._e()]),s("div",[s("div",["none"!==e.suggestionDisplay?s("div",[s("transition-group",{attrs:{name:"fade"}},[e.show?s("flickity",{key:"tag",ref:"tag",staticClass:" suggestionNav ",class:{shadowUnder:"groups disciplines".indexOf(e.suggestionDisplay)>-1},attrs:{id:"suggestionNav",options:e.suggestionNav}},e._l(e.tagSuggestions,function(t,i){return s("tag",{key:t.group[0].setID,attrs:{tag:t.group[0],display:"thumb","persist-action":!1,hide:"remove lens"},on:{main:function(t){e.selectSuggestionGroup(i)},include:function(s){e.addToQuery(t.group[0])},exclude:function(s){e.addToQuery(t.group[0])},focus:function(s){e.addToQuery(t.group[0])},pin:function(s){e.addToQuery(t.group[0])}}})})):e._e(),e.show?s("flickity",{key:"steps",ref:"steps",staticClass:" suggestionSteps",attrs:{id:"suggestionSteps",options:e.suggestionSteps}},e._l(e.tagSuggestions,function(t){return s("div",{staticClass:"suggestionGroupStep"},[s("isotope",{ref:"suggestionBin"+t.group[0].setID,refInFor:!0,attrs:{list:t.contains,options:{}}},e._l(t.contains,function(t){return s("tag",{key:t.setID,attrs:{tag:t,display:"list"},on:{main:function(s){e.addToQuery(t)},include:function(s){e.addToQuery(t)},exclude:function(s){e.addToQuery(t)},focus:function(s){e.addToQuery(t)},pin:function(s){e.addToQuery(t)}}})}))],1)})):e._e()],1)],1):e._e()," none ".indexOf(e.suggestionDisplay)>-1?s("div",[s("isotope",{ref:"together",attrs:{list:e.tagSuggestions,options:{}}},e._l(e.tagSuggestions,function(t){return s("tag",{key:t.setID,attrs:{tag:t,display:"thumb"},on:{main:function(s){e.addToQuery(t)},include:function(s){e.addToQuery(t)},exclude:function(s){e.addToQuery(t)},focus:function(s){e.addToQuery(t)},pin:function(s){e.addToQuery(t)}}})}))],1):e._e()])])])]),s("li",{attrs:{"data-pane":"resources"}},[s("div",{staticClass:"collapsible-header searchHead",class:{shadowUnder:"resources"===e.selectedPane}},[e._m(1),"resources"!==e.selectedPane?s("span",{staticClass:"right badge"},[s("span",[e._v(e._s(e.resourcesRelated)+" resource"),1!=e.resourcesRelated?s("span",[e._v("s")]):e._e(),e._v(" matched")])]):s("span",[s("span",{staticClass:"left viewBtn",class:{fade:!e.showViewed},staticStyle:{"margin-right":"15px"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.flipViewed(t)}}},[s("i",{staticClass:"material-icons "},[e._v("remove_red_eye")])]),s("span",{staticClass:"viewBtn",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.changeDisplay("list")}}},[s("i",{staticClass:"material-icons"},[e._v("view_list")])]),s("span",{staticClass:"viewBtn",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.changeDisplay("card")}}},[s("i",{staticClass:"material-icons"},[e._v("dashboard")])]),s("span",{staticClass:"viewBtn",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.changeDisplay("thumb")}}},[s("i",{staticClass:"material-icons"},[e._v("dialpad")])]),s("span",{staticClass:"right"},[s("a",{staticClass:"dropdown-button viewBtn orderby",on:{click:function(e){e.stopPropagation()}}},[s("span",{staticClass:"dropdown-button",attrs:{"data-activates":"order","data-hover":"true","data-alignment":"right"}},[e._v(e._s(e.orderby))]),s("i",{staticClass:"material-icons ",class:{flipVert:!e.descending},on:{click:function(t){e.descending=!e.descending,e.setOrderAndDescending(e.orderby),e.fetchResources()}}},[e._v("sort")])]),s("ul",{staticClass:"dropdown-content sort",attrs:{id:"order"}},[s("li",{on:{click:function(t){t.stopPropagation(),e.setOrderAndDescending("quality")}}},[s("a",[e._v("quality")])]),s("li",{on:{click:function(t){t.stopPropagation(),e.setOrderAndDescending("complexity")}}},[s("a",[e._v("complexity")])]),s("li",{on:{click:function(t){t.stopPropagation(),e.setOrderAndDescending("added")}}},[s("a",[e._v("date added")])]),e._m(2),s("li",{on:{click:function(t){t.stopPropagation(),e.setOrderAndDescending("votes")}}},[s("a",[e._v("# of votes")])]),s("li",{on:{click:function(t){t.stopPropagation(),e.setOrderAndDescending("views")}}},[s("a",[e._v("# of views")])]),e._m(3)])])])]),s("div",{staticClass:"collapsible-body",staticStyle:{"border-bottom":"none"}},[s("br"),s("div",{staticClass:"right quantity"},[s("div",[e._v("Showing "+e._s(e.resources.length)+" of "+e._s(e.resourcesRelated))]),e.member.uid?s("div",[e.showViewed?s("span",[e._v("Including")]):s("span",[e._v("Excluding")]),e._v(" "+e._s(e.resourcesViewed)+" viewed")]):e._e()]),"resources"===e.selectedPane?s("tag-suggestions",{attrs:{tagQuery:e.tagQuery},on:{add:e.addToQuery}}):e._e(),e.crossSection?s("div",[s("div",{staticClass:" crossSectionNav ",attrs:{id:"crossSectionNav"}},e._l(e.crossSection,function(e){return s("div",[s("tag",{attrs:{tag:e,display:"thumb"}})],1)}))]):e._e(),s("div",{staticClass:"resourceCont"},[s("transition",{attrs:{name:"fade"}},[e.crossSection?s("div",[s("div",{staticClass:" crossSectionSteps",attrs:{id:"crossSectionSteps"}},e._l(e.crossSection,function(t){return s("div",{},[s("isotope",{ref:"resourceBin"+t.setID,refInFor:!0,attrs:{list:e.resources,options:{}}},e._l(e.resources,function(i){return i.tagIDs.includes(t.setID)?s("resource",{key:i.resource.uid,attrs:{re:i,display:e.resourceDisplay},on:{changedDisplay:e.layout}}):e._e()}))],1)}))]):e._e()]),s("transition",{attrs:{name:"fade"}},[e.crossSection?e._e():s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.infinite,expression:"infinite"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10","infinite-scroll-throttle-delay":"1000","infinite-scroll-immediate-check":"false"}},[s("isotope",{ref:"resourceBin",attrs:{list:e.resources,options:{}}},e._l(e.resources,function(t){return s("resource",{key:t.resource.uid,class:{listFullWidth:"list"==e.resourceDisplay},attrs:{re:t,display:e.resourceDisplay},on:{changedDisplay:e.layout}})})),s("Spinner",{directives:[{name:"show",rawName:"v-show",value:e.loadingResources,expression:"loadingResources"}]})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.resources.length||e.endOfResources,expression:"resources.length === 0 || endOfResources"}],staticClass:"message"},[0===e.resources.length?s("p",[e._v("\r\n              No results! Add a resource or shuffle?\r\n            ")]):e._e(),e.endOfResources?s("p",[e._v("\r\n              No more results! Add a resource or shuffle?\r\n            ")]):e._e(),s("div",[s("router-link",{attrs:{to:{name:"addResource"}}},[s("q-btn",{attrs:{color:"primary",round:""}},[s("q-icon",{attrs:{name:"add"}})],1)],1),s("q-btn",{attrs:{color:"primary",round:""},on:{click:e.random}},[s("i",{staticClass:"fa fa-random fa-2x "})])],1)]),s("q-btn",{directives:[{name:"back-to-top",rawName:"v-back-to-top.animate",value:{offset:500,duration:200},expression:"{offset: 500, duration: 200}",modifiers:{animate:!0}}],staticClass:"fixed-bottom-right animate-pop",staticStyle:{margin:"0 15px 15px 0","z-index":"23"},attrs:{round:"",color:"primary"}},[s("q-icon",{attrs:{name:"keyboard_arrow_up"}})],1)],1)],1)])])],1)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collapsible-header shadowUnder"},[s("i",{staticClass:"fa fa-filter"}),e._v("Tag Directory")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"material-icons"},[e._v("image")]),s("span",{staticClass:"hide-on-med-and-down"},[e._v("Resources")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"disabled"},[s("a",[e._v("time to view")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"disabled"},[s("a",[e._v("# responses")])])}];i._withStripped=!0;s("6b54"),s("a481"),s("7f7f"),s("6762"),s("2fdb");var a=s("1157"),o=s.n(a),r=s("a78e"),u=s.n(r),c=s("4d5c"),l=s.n(c),d=s("ab01"),p=s("2bba"),h=s("067f"),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",{staticClass:"options"},[s("q-radio",{attrs:{val:"tags",label:"Tags"},model:{value:e.displayed,callback:function(t){e.displayed=t},expression:"displayed"}}),s("q-radio",{attrs:{val:"groups",label:"Groups"},model:{value:e.displayed,callback:function(t){e.displayed=t},expression:"displayed"}})],1),s("q-btn",{directives:[{name:"show",rawName:"v-show",value:"subGroup"===e.displayed,expression:'displayed === "subGroup"'}],staticClass:"back",attrs:{color:"primary",small:"",flat:"",round:""},on:{click:e.showAllGroups}},[s("q-icon",{attrs:{name:"arrow back"}})],1),e.show?s("isotope",{ref:"rtags",staticClass:"rtags",attrs:{list:e.tags,options:{}}},e._l(e.tags,function(t,i){return"groups"===e.displayed?s("tag",{key:t.tag.uid+i,attrs:{tag:t,hide:"lens remove",display:"thumb"},on:{include:function(s){e.addTag(t)},pin:function(s){e.addTag(t)},focus:function(s){e.addTag(t)},main:function(t){e.showGroup(i)}}}):s("tag",{key:t.tag.uid+i,attrs:{tag:t,hide:"remove lens",display:"thumb"},on:{include:function(s){e.addTag(t)},pin:function(s){e.addTag(t)},focus:function(s){e.addTag(t)},main:function(s){e.tagQuery.push(t)}}})})):e._e()],1)},f=[];g._withStripped=!0;var v=s("0cd3"),m=s.n(v),y=s("b18c"),b={props:{value:{required:!0},label:String,leftLabel:Boolean,color:{type:String,default:"primary"},keepColor:Boolean,dark:Boolean,disable:Boolean,readonly:Boolean,noFocus:Boolean,checkedIcon:String,uncheckedIcon:String},computed:{classes:function(){return[this.__kebabTag,{disabled:this.disable,reverse:this.leftLabel,"q-focusable":this.focusable}]},innerClasses:function(){if(this.isTrue||this.isIndeterminate)return["active","text-".concat(this.color)];var e=this.keepColor?this.color:this.dark?"light":"faded";return"text-".concat(e)},focusable:function(){return!this.noFocus&&!this.disable&&!this.readonly},tabindex:function(){return this.focusable?0:-1}},methods:{__update:function(e){var t=this,s=this.$refs.ripple;s&&(s.classList.add("active"),setTimeout(function(){s.classList.remove("active")},10)),this.$emit("input",e),this.$nextTick(function(){JSON.stringify(e)!==JSON.stringify(t.value)&&t.$emit("change",e)})},__handleKeyDown:function(e){[13,32].includes(Object(y["a"])(e))&&this.toggle(e,!1)}},render:function(e){var t=this;return e("div",{staticClass:"q-option cursor-pointer no-outline row inline no-wrap items-center",class:this.classes,attrs:{tabindex:this.tabindex},on:{click:this.toggle,focus:function(){t.$emit("focus")},blur:function(){t.$emit("blur")},keydown:this.__handleKeyDown},directives:"q-toggle"!==this.__kebabTag||this.disable||this.readonly?null:[{name:"touch-swipe",modifiers:{horizontal:!0},value:this.__swipe}]},[e("div",{staticClass:"q-option-inner relative-position",class:this.innerClasses},[e("input",{attrs:{type:"checkbox"},on:{change:this.toggle}}),this.$q.platform.is.desktop?e("div",{staticClass:"q-focus-helper",class:"q-radio"===this.__kebabTag?"q-focus-helper-round":"q-focus-helper-rounded"}):null,this.__getContent(e)]),this.label?e("span",{staticClass:"q-option-label",domProps:{innerHTML:this.label}}):null,this.$slots.default])}},w=s("52b5"),_={name:"QRadio",mixins:[b],props:{val:{required:!0}},computed:{isTrue:function(){return this.value===this.val}},methods:{toggle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.disable||this.readonly||(e&&Object(y["f"])(e),t&&this.$el.blur(),this.isTrue||this.__update(this.val))},__getContent:function(e){return[e(w["a"],{staticClass:"q-radio-unchecked cursor-pointer absolute-full",props:{name:this.uncheckedIcon||this.$q.icon.radio.unchecked["mat"]}}),e(w["a"],{staticClass:"q-radio-checked cursor-pointer absolute-full",props:{name:this.checkedIcon||this.$q.icon.radio.checked["mat"]}}),e("div",{ref:"ripple",staticClass:"q-radial-ripple"})]}},beforeCreate:function(){this.__kebabTag="q-radio"}},x=s("482e"),k={name:"tagSuggestions",components:{tag:d["a"],isotope:m.a,QRadio:_,QBtn:x["a"],QIcon:w["a"]},props:["tagQuery"],data:function(){return{show:!0,fetching:!1,tags:[],type:"none",displayed:"tags",baseUID:"rJlh4ZPpNG",groupSet:[]}},methods:{showGroup:function(e){this.tags=this.groupSet[e].contains,this.displayed="subGroup"},showAllGroups:function(){var e=this;this.tags=this.groupSet.map(function(e){return e.group[0].connections=e.contains.length,e.group[0]}),this.$nextTick(function(){e.$refs.rtags.layout()}),this.displayed="groups"},addTag:function(e){this.$emit("add",e)},fetch:function(){this.fetching||(this.tags=[],"subGroup"===this.displayed&&(this.displayed="groups"),"base"===this.displayed?this.getBase():"groups"===this.displayed?this.getGroups():this.tagQuery.length>0?this.getTopRelated():this.getTopAll())},getBase:function(){var e=this;this.fetching=!0,this.tagSuggestions=[],this.$http.get("/api/set/rJgyQNK64f/crossSection",{params:{languageCode:"en"},before:function(e){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=e}}).then(function(t){e.tags=t.data.map(function(e){return e.group[0]}),e.$refs.rtags.layout(),e.fetching=!1})},getGroups:function(){var e=this;this.fetching=!0;for(var t=[],s=0;s<this.tagQuery.length;s++)t.push(this.tagQuery[s].setID);this.$http.get("/api/set/",{params:{languageCode:"en",include:t,exclude:[""],type:this.displayed},before:function(e){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=e}}).then(function(t){e.groupSet=t.data,e.showAllGroups(),e.fetching=!1})},getTopRelated:function(){var e=this;this.fetching=!0;for(var t=[],s=0;s<this.tagQuery.length;s++)t.push(this.tagQuery[s].setID);this.$http.get("/api/set/",{params:{languageCode:"en",include:t,exclude:[""],type:"none"}}).then(function(t){e.tags=t.data,e.$refs.rtags.layout(),e.fetching=!1})},getTopAll:function(){var e=this;this.fetching=!0,this.$http.get("/api/tag/most",{params:{languageCode:"en"}}).then(function(t){e.tags=t.data,e.$refs.rtags.layout(),e.fetching=!1})}},mounted:function(){var e=this;setTimeout(function(){e.fetch()},100)},watch:{tagQuery:function(e){this.fetch()},displayed:function(e){"subGroup"!==e&&this.fetch()}}},C=k,T=(s("d9a2"),s("2877")),D=Object(T["a"])(C,g,f,!1,null,null,null);D.options.__file="tagSuggestions.vue";var S=D.exports,Q=s("487a"),$=s.n(Q),q=s("5b7e"),I=s.n(q),R=s("b394"),N=s("39ea"),B=s("133b"),O={name:"explore",components:{tag:d["a"],Notify:B["a"],resource:p["a"],search:h["a"],Spinner:I.a,isotope:m.a,Flickity:R["a"],QBtn:x["a"],QIcon:w["a"],QRadio:_,tagSuggestions:S},directives:{infiniteScroll:$.a,BackToTop:N["a"]},props:["tagQuery","member"],data:function(){return{db:null,loginCheck:!1,crossSection:null,tagSuggestions:[],suggestionDisplay:"",suggestions:[],show:!0,resources:[],showViewed:!1,resourcesRelated:null,resourcesViewed:null,resourceDisplay:null,searchStr:null,selectedPane:"resources",endOfResources:!1,loadingResources:!1,orderby:"quality",descending:!0,crossSectionNav:{pageDots:!1,prevNextButtons:!1,accessibility:!1},crossSectionSteps:{wrapAround:!0,pageDots:!1,prevNextButtons:!0,accessibility:!1,dragThreshold:40},suggestionNav:{pageDots:!1,prevNextButtons:!0,accessibility:!1},suggestionSteps:{wrapAround:!0,pageDots:!1,prevNextButtons:!0,accessibility:!1,dragThreshold:40}}},methods:{flicker:function(){var e=this;this.show=!1,this.$nextTick(function(){setTimeout(function(){e.show=!0,setTimeout(function(){e.$refs.tag.selectCell(Math.round(e.tagSuggestions.length/2),!1,!1)},50)},50)})},selectSuggestionGroup:function(e){this.$refs.tag.selectCell(e),this.$refs.steps.selectCell(e)},setOrderAndDescending:function(e){this.orderby=e,u.a.set("orderby",e),u.a.set("descending",this.descending),B["a"].create({html:'<span class="thin">Order by '+this.orderby+", "+(this.descending?"high to low":"low to high</span>"),timeout:1500,color:"white",bgColor:"black"}),this.fetchResources()},infinite:function(){this.endOfResources||this.fetchResources(!0)},random:function(){var e=this;this.$http.get("/api/resource/random").then(function(t){e.$router.push({name:"resource",params:{uid:t.data.uid}})})},includeSearch:function(e){this.tagQuery.includes(e.setID)||this.tagQuery.push(e),this.removeFrom(e,this.suggestions)},focus:function(e){e.status.focusIcon=!1;var t=this.tagQuery.length;while(t--)this.tagQuery[t].status.pinnedIcon||this.tagQuery[t].setID===e.setID||this.tagQuery.splice(t,1)},removeFrom:function(e,t){for(var s=t.length-1;s>=0;s--)t[s].setID===e.setID&&t.splice(s,1)},removeTag:function(e){for(var t=this.tagQuery.length-1;t>=0;t--)this.tagQuery[t].setID===e&&this.tagQuery.splice(t,1)},flipViewed:function(){var e=this;this.member.uid?(this.showViewed=!this.showViewed,this.$nextTick(function(){e.fetchResources()}),u.a.set("showViewed",this.showViewed),this.showViewed?l.a.toast("Include viewed resources",2e3):l.a.toast("Hide viewed resources",2e3)):(l.a.toast("Must be logged in to hide viewed resources!",2e3),o()("#login-modal").modal("open"))},addToQuery:function(e){e.connections=0,e.persistAction&&(e.status.includeIcon=!0),e.status.focusIcon&&this.focus(e),this.tagQuery.every(function(t){return t.setID!==e.setID})?this.tagQuery.push(e):l.a.toast("Already in query!",1500)},changeDisplay:function(e){this.resourceDisplay=e,u.a.set("resourceDisplay",e),this.$nextTick(function(){var e=this;window.setTimeout(function(){e.layout()},375)})},changeLens:function(e){null===e?u.a.set("lens",null):u.a.set("lens",e.name),null!==e&&null!==this.crossSection&&this.crossSection.name===e.name||(this.crossSection=e,this.$nextTick(function(){this.layout()}))},shuffle:function(e){this.$refs.resourceBin.shuffle(),this.$refs.key.shuffle(),this.$refs.tagQuery.shuffle()},layout:function(){if(this.tagSuggestions.length>0&&"groups"===this.suggestionDisplay&&"tags"===this.selectedPane)for(var e in this.tagSuggestions)this.$refs["suggestionBin"+this.tagSuggestions[e].group[0].setID]&&this.$refs["suggestionBin"+this.tagSuggestions[e].group[0].setID][0]&&this.$refs["suggestionBin"+this.tagSuggestions[e].group[0].setID][0].layout("masonry");for(e in this.crossSection)this.$refs["resourceBin"+this.crossSection[e].setID][0].layout("masonry");this.$refs.tagQuery&&"search"===this.selectedPane&&this.$refs.tagQuery.layout("masonry"),"resources"!==this.selectedPane||!this.$refs.resourceBin||this.crossSection&&0!==this.crossSection.length||this.$refs.resourceBin.layout()},getTags:function(){var e=this;if("size disciplines time".indexOf(this.suggestionDisplay)>-1)this.getBatchTags();else{for(var t=[],s=0;s<this.tagQuery.length;s++)t.push(this.tagQuery[s].setID);this.$http.get("/api/set/",{params:{languageCode:"en",include:t,exclude:[""],type:this.suggestionDisplay}}).then(function(t){e.tagSuggestions=t.data,0===e.tagSuggestions.length&&(e.suggestionDisplay="disciplines",l.a.toast("Add tags to search first!",2e3)),e.flicker(),e.$nextTick(function(){e.layout()})})}},getBatchTags:function(){var e=this,t={size:"BJgVf2ZQYW",disciplines:"Bylx_hVBa-",time:"BJNgnDdk-"},s=t[this.suggestionDisplay];this.tagSuggestions=[],this.$http.get("/api/set/"+s+"/crossSection",{params:{languageCode:"en"}}).then(function(t){for(var s in t.data)null===t.data[s].contains[0].tag&&(t.data[s].contains=[]),null===t.data[s].group[0].translation&&(t.data[s].group[0].translation="",console.log("I need to be dealt with - improve query."));e.tagSuggestions=t.data,0===e.tagSuggestions.length&&(e.suggestionDisplay="size"),e.flicker(),e.$nextTick(function(){e.layout()})})},fetchContains:function(e){var t=this;this.$http.get("/api/set/"+e.setID+"/contains/",{params:{languageCode:"en"}}).then(function(e){e.data.length>0?t.changeLens(e.data):l.a.toast("Contains no tags.",4e3)},function(e){l.a.toast("Something went wrong...are you online?",4e3)})},fetchResources:function(e){var t=this;if(!this.loadingResources&&(!e||0!==this.resources.length)){this.loadingResources=!0,this.endOfResources=!1;var s=[],i=[],n=30;screen.width<=480&&(n=10);var a=0;e&&(a=this.resources.length);for(var o=0;o<this.tagQuery.length;o++)this.tagQuery[o]["status"].includeIcon?s.push(this.tagQuery[o]["setID"]):i.push(this.tagQuery[o]["setID"]);var r="";r=null!==this.member.uid?"/api/auth/resource":"/api/resource",this.$http.get(r,{params:{languageCode:"en",include:s,exclude:i,showViewed:this.showViewed,skip:a,limit:n,orderby:this.orderby,descending:this.descending},before:function(e){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=e}}).then(function(s){console.log(s),0===s.data.length?(t.endOfResources=!0,e||(l.a.toast("No resources found...",2e3),t.resources=[])):e?t.resources.push.apply(t.resources,s.data):t.resources=s.data,t.loadingResources=!1},function(e){l.a.toast("Something went wrong...",2e3),t.loadingResources=!1})}},fetchResourceQuantity:function(){for(var e=this,t=[],s=[],i=0;i<this.tagQuery.length;i++)this.tagQuery[i]["status"].includeIcon?t.push(this.tagQuery[i]["setID"]):s.push(this.tagQuery[i]["setID"]);var n="";n=null!==this.member.uid?"/api/auth/resource/count":"/api/resource/count",this.$http.get(n,{params:{languageCode:"en",include:t,exclude:s}}).then(function(t){t.data.viewedResources&&(e.resourcesViewed=t.data.viewedResources),e.resourcesRelated=t.data.relatedResources})},getCookies:function(){u.a.get("alpha-warning-seen")?u.a.set("alpha-warning-seen",!0,{expires:7}):(u.a.set("alpha-warning-seen",!0,{expires:7}),l.a.toast("Hi! Knowlo is in alpha right now...everthing is subject to change and break.",1e4),this.$router.push("/about")),u.a.get("resourceDisplay")?this.resourceDisplay=u.a.get("resourceDisplay"):this.resourceDisplay="card",u.a.get("orderby")?this.orderby=u.a.get("orderby"):this.orderby="quality",u.a.get("descending")?this.descending="true"===u.a.get("descending"):this.descending=!0,u.a.get("showViewed")?this.showViewed="true"===u.a.get("showViewed"):this.showViewed=!1,u.a.get("suggestionDisplay")?this.suggestionDisplay=u.a.get("suggestionDisplay"):this.suggestionDisplay="size"},updateURL:function(e){if("explore"===this.$route.name){var t=e.map(function(e){return e.translation.name.replace(/\s+/g,"_")}).map(function(e){return"+"+e});this.$router.push({name:"explore",params:{tagquery:t.toString()},query:this.$route.query})}},checkQuery:function(){var e=this.tagQuery.map(function(e){return e.translation.name.replace(/\s+/g,"_")}).map(function(e){return"+"+e}).toString();this.$route.params.tagquery&&this.$route.params.tagquery.length>0&&this.$route.params.tagquery!==e&&this.getTagsByName()},getTagsByName:function(){var e=this;this.$http.get("/api/tag/byname",{params:{tagString:this.$route.params.tagquery}}).then(function(t){e.$emit("updateTagQuery",t.data)})}},mounted:function(){var e=this;this.resourcesRelated||this.fetchResourceQuantity(),this.getCookies(),this.checkQuery(),o()(".exploreBins").collapsible({onOpen:function(t){e.selectedPane=t[0].dataset.pane,"resources"===t[0].dataset.pane&&e.$nextTick(function(){o()(".dropdown-button").dropdown()})},onClose:function(t){t[0]&&t[0].dataset.pane===e.selectedPane&&("resources"!==e.selectedPane?(e.selectedPane="resources",o()(".exploreBins").collapsible("open",2)):(e.selectedPane="tags",o()(".exploreBins").collapsible("open",1)))}}),o()(".exploreBins").collapsible("open",2),o()(".orderby").dropdown(),setInterval(function(t){e.layout()},3e3),setTimeout(function(){"resources"===e.selectedPane&&0===e.resources.length&&e.fetchResources()},500)},watch:{$route:function(e,t){this.checkQuery()},member:function(e,t){var s=this;this.loginCheck=!0,this.$nextTick(function(e){s.fetchResourceQuantity(),"resources"===s.selectedPane&&s.fetchResources()})},tagQuery:function(e,t){var s=this;this.updateURL(e),0===this.tagQuery.length&&(this.suggestionDisplay="disciplines"),u.a.set("tagQuery",e),this.loginCheck&&this.$nextTick(function(){"resources"===s.selectedPane?s.fetchResources():"tags"===s.selectedPane&&s.getTags(),s.fetchResourceQuantity()})},suggestionDisplay:function(e,t){u.a.set("suggestionDisplay",e),t.length>0&&this.getTags()},selectedPane:function(e,t){e!==t&&"resources"===e&&this.loginCheck?(this.fetchResources(),this.$nextTick(function(){o()(".dropdown-button").dropdown()})):e!==t&&"tags"===e&&this.getTags(),this.layout()}}},L=O,P=(s("66d1"),Object(T["a"])(L,i,n,!1,null,null,null));P.options.__file="explore.vue";t["default"]=P.exports},8615:function(e,t,s){var i=s("5ca1"),n=s("504c")(!1);i(i.S,"Object",{values:function(e){return n(e)}})},b3ca:function(e,t,s){},d4e9:function(e,t,s){},d9a2:function(e,t,s){"use strict";var i=s("d4e9"),n=s.n(i);n.a}}]);